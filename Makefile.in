# Check for a .configured file generated by configure script
ifeq ($(wildcard .configured),)
$(error You must run `./configure` before you can build.)
endif

CC = @CC@

CPPFLAGS ?= 
CFLAGS ?=
LDFLAGS ?=
PREFIX ?= @PREFIX@
GNSRCDIR ?= /tmp/e10b5eccac1ecb4e8706e3898719b197a1e9d10d65e860192d38155cb31233ea

build: libmysolvers.h libmysolvers.c
	mkdir -p obj
	$(CC) $(CFLAGS) -c libmysolvers.c -o obj/libmysolvers.o
	ar rcs obj/libmysolvers.a obj/libmysolvers.o

install:
	mkdir -p $(PREFIX)/include
	mkdir -p $(PREFIX)/lib
	cp libmysolvers.h $(PREFIX)/include/
	cp obj/libmysolvers.a $(PREFIX)/lib/

clean:
	rm -rf obj

uninstall:
	rm -rf $(PREFIX)/include
	rm -rf $(PREFIX)/lib